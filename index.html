<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ù‚ØµØµ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© - Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</title>
    
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6847506129570052"
     crossorigin="anonymous"></script>

    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #059669; --secondary: #d97706; --bg: #f3f4f6; --text: #1f2937; }
        body { font-family: 'Cairo', sans-serif; background-color: var(--bg); margin: 0; color: var(--text); padding-top: 80px; overflow-x: hidden; }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header { background: white; height: 75px; width: 100%; position: fixed; top: 0; display: flex; justify-content: space-between; align-items: center; padding: 0 5%; box-shadow: 0 2px 10px rgba(0,0,0,0.1); z-index: 1000; box-sizing: border-box; }
        .logo { font-weight: 900; color: var(--primary); font-size: 1.3rem; }
        .user-zone { display: flex; align-items: center; gap: 15px; }
        .points-badge { background: var(--secondary); color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
        #user-img { width: 35px; border-radius: 50%; border: 2px solid var(--primary); display: none; }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„ØªÙ†Ù‚Ù„ */
        .tabs { display: flex; justify-content: center; gap: 10px; margin: 20px 0; }
        .tab-btn { background: #fff; border: 2px solid #ddd; padding: 12px 25px; border-radius: 12px; cursor: pointer; font-weight: bold; font-family: 'Cairo'; transition: 0.3s; }
        .tab-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px; }
        
        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card { background: white; border-radius: 20px; padding: 20px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border: 1px solid #eee; transition: 0.3s; position: relative; }
        .card:hover { transform: translateY(-5px); }
        .btn-action { width: 100%; padding: 12px; border-radius: 10px; border: none; font-weight: bold; cursor: pointer; margin-top: 15px; }
        .btn-buy { background: var(--secondary); color: white; }
        .btn-read { background: var(--primary); color: white; }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„Ù‚Ø§Ø±Ø¦ */
        .viewer { display: none; background: white; padding: 30px; border-radius: 20px; line-height: 2; animation: fadeIn 0.4s; }
        canvas { background: #f0fdf4; border: 2px solid #ddd; display: block; margin: 20px auto; border-radius: 10px; max-width: 100%; }
        @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }

        .footer { text-align: center; padding: 40px; background: white; margin-top: 50px; border-top: 1px solid #eee; }
        .footer a { color: var(--primary); text-decoration: none; margin: 0 10px; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <div class="logo">ğŸŒŸ Ù…Ù†ØµØ© Ù†ÙˆØ± Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨</div>
    <div class="user-zone">
        <div class="points-badge">ğŸ’ <span id="pts">0</span></div>
        <div id="g_id_onload" data-client_id="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com" data-callback="handleSignIn"></div>
        <div class="g_id_signin" data-type="icon" data-shape="circle"></div>
        <img id="user-img" src="">
    </div>
</header>

<div class="container">
    <div class="tabs">
        <button class="tab-btn active" onclick="switchSection('stories-grid', this)">ğŸ“š Ø§Ù„Ù‚ØµØµ</button>
        <button class="tab-btn" onclick="switchSection('games-grid', this)">ğŸ® Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
    </div>

    <div id="stories-grid" class="grid section"></div>

    <div id="games-grid" class="grid section" style="display:none;">
        <div class="card" onclick="playGame('catcher')">
            <span style="font-size:3rem">ğŸ§º</span>
            <h3>Ø¬Ø§Ù…Ø¹ Ø§Ù„Ø­Ø³Ù†Ø§Øª</h3>
            <p>ØªØ­Ø±Ùƒ Ø¨Ø§Ù„Ø³Ù„Ø© ÙˆØ§Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ¨ Ø§Ù„Ø®Ø¶Ø±Ø§Ø¡</p>
            <button class="btn-action btn-read">Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>
        </div>
        <div class="card" onclick="playGame('memory')">
            <span style="font-size:3rem">ğŸ§ </span>
            <h3>ØªØ­Ø¯ÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø©</h3>
            <p>Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø© Ù„ØªØ±Ø¨Ø­</p>
            <button class="btn-action btn-read">Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø¢Ù†</button>
        </div>
    </div>

    <div id="content-viewer" class="viewer">
        <button onclick="closeViewer()" style="background:#ddd; border:none; padding:8px 20px; border-radius:8px; cursor:pointer;">â¬… Ø¹ÙˆØ¯Ø©</button>
        <div id="viewer-body"></div>
    </div>
</div>

<footer class="footer">
    <a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> | <a href="#">Ù…Ù† Ù†Ø­Ù†</a> | <a href="#">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a>
    <p>Â© 2026 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</p>
</footer>

<script>
    // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚ØµØµ Ø§Ù„Ø·ÙˆÙŠÙ„Ø©
    const stories = [
        { id: 1, title: "Ù‚ØµØ© ØµØ¨Ø± Ø£ÙŠÙˆØ¨ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù…", price: 50, icon: "ğŸŒ±", text: "ÙƒØ§Ù† Ù†Ø¨ÙŠ Ø§Ù„Ù„Ù‡ Ø£ÙŠÙˆØ¨ Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù… Ø±Ø¬Ù„Ø§Ù‹ ØºÙ†ÙŠØ§Ù‹ Ø¬Ø¯Ø§Ù‹ØŒ Ø±Ø²Ù‚Ù‡ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø£Ù…ÙˆØ§Ù„ ÙˆØ§Ù„Ø£Ø±Ø§Ø¶ÙŠ ÙˆØ§Ù„Ø£Ø¨Ù†Ø§Ø¡ØŒ ÙˆÙƒØ§Ù† Ø¹Ø¨Ø¯Ø§Ù‹ Ø´Ø§ÙƒØ±Ø§Ù‹. Ø£Ø±Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠØ®ØªØ¨Ø± Ø¥ÙŠÙ…Ø§Ù†Ù‡ØŒ ÙÙÙ‚Ø¯ Ù…Ø§Ù„Ù‡ ÙƒÙ„Ù‡ØŒ Ø«Ù… Ù…Ø§Øª Ø£Ø¨Ù†Ø§Ø¤Ù‡ØŒ Ø«Ù… Ø§Ø¨ØªÙ„ÙŠ Ø¨Ù…Ø±Ø¶ Ø´Ø¯ÙŠØ¯ ÙÙŠ Ø¬Ø³Ø¯Ù‡ Ø­ØªÙ‰ ØªØ±ÙƒÙ‡ Ø§Ù„Ø¬Ù…ÙŠØ¹ Ø¥Ù„Ø§ Ø²ÙˆØ¬ØªÙ‡ Ø§Ù„ØµØ§Ù„Ø­Ø©. Ø§Ø³ØªÙ…Ø± Ø§Ù„Ø¨Ù„Ø§Ø¡ 18 Ø¹Ø§Ù…Ø§Ù‹ ÙˆÙ‡Ùˆ ÙŠÙ‚ÙˆÙ„: 'Ø±Ø¨ÙŠ Ø¥Ù†ÙŠ Ù…Ø³Ù†ÙŠ Ø§Ù„Ø¶Ø± ÙˆØ£Ù†Øª Ø£Ø±Ø­Ù… Ø§Ù„Ø±Ø§Ø­Ù…ÙŠÙ†'. ÙØ§Ø³ØªØ¬Ø§Ø¨ Ø§Ù„Ù„Ù‡ Ù„Ù‡ ÙˆØ£Ù…Ø±Ù‡ Ø£Ù† ÙŠØ¶Ø±Ø¨ Ø§Ù„Ø£Ø±Ø¶ Ø¨Ø±Ø¬Ù„Ù‡ØŒ ÙÙ†Ø¨Ø¹ Ù…Ø§Ø¡ Ø¨Ø§Ø±Ø¯ØŒ Ø§ØºØªØ³Ù„ Ù…Ù†Ù‡ ÙØ´ÙÙŠ ÙˆØ£Ø¹Ø§Ø¯ Ø§Ù„Ù„Ù‡ Ù„Ù‡ Ù…Ø§Ù„Ù‡ ÙˆØ£Ù‡Ù„Ù‡ ÙˆØ£ÙƒØ«Ø±. Ø§Ù„Ø¯Ø±Ø³: Ø§Ù„ØµØ¨Ø± Ù‡Ùˆ Ù…ÙØªØ§Ø­ ÙƒÙ„ Ø®ÙŠØ±." },
        { id: 2, title: "Ù…Ø¹Ø¬Ø²Ø© Ù†Ø§Ù‚Ø© Ø§Ù„Ù„Ù‡", price: 70, icon: "ğŸª", text: "Ø£Ø±Ø³Ù„ Ø§Ù„Ù„Ù‡ Ù†Ø¨ÙŠÙ‡ ØµØ§Ù„Ø­Ø§Ù‹ Ø¥Ù„Ù‰ Ù‚ÙˆÙ… Ø«Ù…ÙˆØ¯ØŒ ÙˆÙƒØ§Ù†ÙˆØ§ ÙŠÙ†Ø­ØªÙˆÙ† Ù…Ù† Ø§Ù„Ø¬Ø¨Ø§Ù„ Ø¨ÙŠÙˆØªØ§Ù‹ ÙØ§Ø±Ù‡Ø©. Ø·Ù„Ø¨ÙˆØ§ Ù…Ù†Ù‡ Ù…Ø¹Ø¬Ø²Ø© Ù„ÙƒÙŠ ÙŠØ¤Ù…Ù†ÙˆØ§ØŒ ÙˆÙ‡ÙŠ Ø£Ù† ØªØ®Ø±Ø¬ Ù†Ø§Ù‚Ø© Ø¶Ø®Ù…Ø© Ù…Ù† ØµØ®Ø±Ø© ØµÙ…Ø§Ø¡. Ø¯Ø¹Ø§ ØµØ§Ù„Ø­ Ø±Ø¨Ù‡ØŒ ÙØ§Ù†Ø´Ù‚Øª Ø§Ù„ØµØ®Ø±Ø© ÙˆØ®Ø±Ø¬Øª Ù…Ù†Ù‡Ø§ Ø§Ù„Ù†Ø§Ù‚Ø© ÙƒÙ…Ø§ Ø·Ù„Ø¨ÙˆØ§. Ø£Ù…Ø±Ù‡Ù… ØµØ§Ù„Ø­ Ø£Ù† ÙŠØªØ±ÙƒÙˆÙ‡Ø§ ØªØ£ÙƒÙ„ ÙÙŠ Ø£Ø±Ø¶ Ø§Ù„Ù„Ù‡ ÙˆØ£Ù† Ù„Ø§ ÙŠÙ…Ø³ÙˆÙ‡Ø§ Ø¨Ø³ÙˆØ¡ØŒ ÙˆÙ„Ù‡Ø§ ÙŠÙˆÙ… ØªØ´Ø±Ø¨ ÙÙŠÙ‡ ÙˆÙ„Ù‡Ù… ÙŠÙˆÙ…. Ù„ÙƒÙ†Ù‡Ù… Ø¹ØµÙˆØ§ ÙˆÙ‚ØªÙ„ÙˆØ§ Ø§Ù„Ù†Ø§Ù‚Ø©ØŒ ÙØ£Ø±Ø³Ù„ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡Ù… ØµÙŠØ­Ø© ÙˆØ§Ø­Ø¯Ø© Ø¬Ø¹Ù„ØªÙ‡Ù… ÙƒØ§Ù„Ù‡Ø´ÙŠÙ…. Ø§Ù„Ø¯Ø±Ø³: Ø¹Ø§Ù‚Ø¨Ø© Ø§Ù„ØªÙƒØ¨Ø± ÙˆÙ…Ø®Ø§Ù„ÙØ© Ø£Ù…Ø± Ø§Ù„Ù„Ù‡ ÙˆØ®ÙŠÙ…Ø©." },
        { id: 3, title: "ÙŠÙˆØ³Ù ÙˆØ¥Ø®ÙˆØªÙ‡", price: 100, icon: "ğŸ‘‘", text: "ÙƒØ§Ù† ÙŠÙˆØ³Ù Ø£Ø­Ø¨ Ø§Ù„Ø£Ø¨Ù†Ø§Ø¡ Ø¥Ù„Ù‰ Ø£Ø¨ÙŠÙ‡ ÙŠØ¹Ù‚ÙˆØ¨ØŒ ÙØºØ§Ø± Ù…Ù†Ù‡ Ø¥Ø®ÙˆØªÙ‡ ÙˆØ£Ù„Ù‚ÙˆÙ‡ ÙÙŠ Ø§Ù„Ø¨Ø¦Ø±. Ø¨ÙŠØ¹ ÙŠÙˆØ³Ù ÙƒØ¹Ø¨Ø¯ ÙÙŠ Ù…ØµØ±ØŒ Ø«Ù… Ø³Ø¬Ù† Ø¸Ù„Ù…Ø§Ù‹ØŒ Ù„ÙƒÙ† Ø§Ù„Ù„Ù‡ Ø¹Ù„Ù…Ù‡ ØªØ£ÙˆÙŠÙ„ Ø§Ù„Ø£Ø­Ù„Ø§Ù…. ÙØ³Ø± ÙŠÙˆØ³Ù Ø­Ù„Ù… Ø§Ù„Ù…Ù„Ùƒ Ø¹Ù† Ø³Ù†ÙˆØ§Øª Ø§Ù„Ù‚Ø­Ø·ØŒ ÙØ£ØµØ¨Ø­ Ø¹Ø²ÙŠØ² Ù…ØµØ± ÙˆØ§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø®Ø²Ø§Ø¦Ù†Ù‡Ø§. ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ© Ø¬Ø§Ø¡ Ø¥Ø®ÙˆØªÙ‡ Ù„Ø·Ù„Ø¨ Ø§Ù„Ø·Ø¹Ø§Ù…ØŒ ÙØ¹Ø±ÙÙ‡Ù… ÙˆØ³Ø§Ù…Ø­Ù‡Ù…ØŒ ÙˆØ§Ø¬ØªÙ…Ø¹ Ø´Ù…Ù„ Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ù…Ù† Ø¬Ø¯ÙŠØ¯. Ø§Ù„Ø¯Ø±Ø³: Ø§Ù„Ø­Ø³Ø¯ ÙŠØ¯Ù…Ø±ØŒ ÙˆØ§Ù„ØµÙØ­ ÙŠØ±ÙØ¹ Ù‚Ø¯Ø± Ø§Ù„Ø¥Ù†Ø³Ø§Ù†." }
    ];

    let points = parseInt(localStorage.getItem('pts')) || 200;
    let owned = JSON.parse(localStorage.getItem('owned')) || [];

    function updateUI() {
        document.getElementById('pts').innerText = points;
        const grid = document.getElementById('stories-grid');
        grid.innerHTML = '';
        stories.forEach(s => {
            const isOwned = owned.includes(s.id);
            grid.innerHTML += `
                <div class="card">
                    <div style="font-size:3.5rem">${s.icon}</div>
                    <h3>${s.title}</h3>
                    <p>Ù‚ØµØ© ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø·ÙˆÙŠÙ„Ø© Ù…Ù„ÙŠØ¦Ø© Ø¨Ø§Ù„Ø¹Ø¨Ø± ÙˆØ§Ù„Ø¯Ø±ÙˆØ³.</p>
                    ${isOwned ? 
                        `<button class="btn-action btn-read" onclick="readStory(${s.id})">ğŸ“– Ø§Ù‚Ø±Ø£ Ø§Ù„Ø¢Ù†</button>` : 
                        `<button class="btn-action btn-buy" onclick="buyStory(${s.id}, ${s.price})">ğŸ›’ Ø´Ø±Ø§Ø¡ Ø¨Ù€ ${s.price} Ù†Ù‚Ø·Ø©</button>`}
                </div>`;
        });
        localStorage.setItem('pts', points);
        localStorage.setItem('owned', JSON.stringify(owned));
    }

    function buyStory(id, price) {
        if(points >= price) {
            points -= price;
            owned.push(id);
            updateUI();
            alert("ØªÙ… Ø§Ù„Ø´Ø±Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù„Ù‚ØµØ© Ø§Ù„Ø¢Ù† Ù…Ù„ÙƒÙƒ Ù„Ù„Ø£Ø¨Ø¯.");
        } else { alert("Ù†Ù‚Ø§Ø·Ùƒ Ù„Ø§ ØªÙƒÙÙŠØŒ Ø§Ù„Ø¹Ø¨ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ù„ØªØ¬Ù…Ø¹ Ø§Ù„Ù…Ø²ÙŠØ¯."); }
    }

    function readStory(id) {
        const s = stories.find(x => x.id === id);
        switchSection('content-viewer');
        document.getElementById('viewer-body').innerHTML = `<h1>${s.title}</h1><p style="font-size:1.2rem; white-space:pre-wrap;">${s.text}</p>`;
    }

    // Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
    function playGame(type) {
        switchSection('content-viewer');
        const body = document.getElementById('viewer-body');
        if(type === 'catcher') {
            body.innerHTML = `<h3>Ø§Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ù„ÙˆØ¨ (ğŸ’š) ÙˆØªØ¬Ù†Ø¨ Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„ (ğŸ’£)</h3><canvas id="gameCanvas" width="300" height="400"></canvas>`;
            startCatcherGame();
        } else {
            body.innerHTML = `<h3>Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©: Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø£Ø´ÙƒØ§Ù„</h3><div id="mem-grid" style="display:grid; grid-template-columns:repeat(4,1fr); gap:10px;"></div>`;
            startMemoryGame();
        }
    }

    function startCatcherGame() {
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        let basketX = 125, score = 0, items = [];
        
        const gameInt = setInterval(() => {
            ctx.clearRect(0,0,300,400);
            ctx.fillStyle = "#059669";
            ctx.fillRect(basketX, 370, 50, 20); // Ø§Ù„Ø³Ù„Ø©
            
            if(Math.random() < 0.03) items.push({x: Math.random()*280, y:0, type: Math.random() > 0.2 ? 'G' : 'B'});
            
            items.forEach((it, i) => {
                it.y += 4;
                ctx.font = "20px Arial";
                ctx.fillText(it.type === 'G' ? "ğŸ’š" : "ğŸ’£", it.x, it.y);
                if(it.y > 370 && it.x > basketX && it.x < basketX+50) {
                    if(it.type === 'G') score++; else { clearInterval(gameInt); alert("Ø®Ø³Ø±Øª! Ø¬Ù…Ø¹Øª " + score); closeViewer(); }
                    items.splice(i, 1);
                }
            });
            ctx.fillStyle = "#000"; ctx.fillText("Ø§Ù„Ù†Ù‚Ø§Ø·: " + score, 10, 30);
            if(score >= 15) { clearInterval(gameInt); points += 10; alert("ÙØ²Øª! Ø±Ø¨Ø­Øª 10 Ù†Ù‚Ø§Ø·"); updateUI(); closeViewer(); }
        }, 30);

        window.onkeydown = (e) => {
            if(e.key === "ArrowLeft" && basketX > 0) basketX -= 20;
            if(e.key === "ArrowRight" && basketX < 250) basketX += 20;
        };
    }

    // Ø§Ù„ØªØ­ÙƒÙ… Ø¨Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
    function switchSection(id, btn) {
        document.querySelectorAll('.section, .viewer').forEach(s => s.style.display = 'none');
        document.getElementById(id).style.display = id.includes('grid') ? 'grid' : 'block';
        if(btn) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }
    }

    function closeViewer() { switchSection('stories-grid', document.querySelector('.tab-btn')); }

    // Ø¬ÙˆØ¬Ù„
    function handleSignIn(response) {
        const data = JSON.parse(atob(response.credential.split('.')[1]));
        document.querySelector('.g_id_signin').style.display = 'none';
        const img = document.getElementById('user-img');
        img.src = data.picture; img.style.display = 'block';
        alert("Ù…Ø±Ø­Ø¨Ø§Ù‹ " + data.name + "! ØªÙ… Ø­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ.");
    }

    window.onload = updateUI;
</script>

</body>
</html>
